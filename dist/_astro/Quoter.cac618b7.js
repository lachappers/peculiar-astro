import{r as c}from"./index.ed373d49.js";import"./client.df21ed18.js";var x={exports:{}},d={},p=c,m=Symbol.for("react.element"),j=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,y=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S={key:!0,ref:!0,__self:!0,__source:!0};function f(e,t,n){var s,i={},r=null,c=null;for(s in void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),void 0!==t.ref&&(c=t.ref),t)g.call(t,s)&&!S.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===i[s]&&(i[s]=t[s]);return{$$typeof:m,type:e,key:r,ref:c,props:i,_owner:y.current}}d.Fragment=j,d.jsx=f,d.jsxs=f,x.exports=d;var e=x.exports;function b(){return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"",children:"Build your quote"}),e.jsxs("div",{className:" flex flex-col items-center",children:[e.jsx("p",{children:"Already Registered?"}),e.jsx("a",{href:"/",children:"Sign in"})]})]})}const w=[{category:"Design & Build",description:[e.jsxs("div",{className:"text-sm mb-4 italic",children:["Hand-coded design & build, or migration of existing;",e.jsxs("ul",{className:"list-disc list-inside",children:[e.jsx("li",{children:"Brand"}),e.jsx("li",{children:"Site Layout & Content"}),e.jsxs("li",{children:["Technical Configuration (including hosting & domain management ",e.jsx("a",{href:"/",children:"and more"}),")"]})]}),"for static site, up to 5 pages, with standard features. Including; Technical SEO & Performance Optimisation, Full Accessibility & Multi-Device Compatibility, GDPR & UK Legal Compliance, with Analytics built in. ",e.jsx("a",{href:"/",children:"See More."})]})],name:"standard",unitPrice:"£4,500",quantity:"1"},{category:"Design & Build",description:"Additional pages",name:"addPage",unitPrice:"£500",quantity:"0"},{category:"Design & Build",description:"Additional features",name:"addFeatures",unitPrice:"£4,500",quantity:"0"},{category:"Manage & Support",description:"Core Support Package",name:"coreSupport",unitPrice:"£75",quantity:"12"},{category:"Manage & Support",description:"Enhanced Support Package",name:"enhancedSupport",unitPrice:"£150",quantity:"12"},{category:"Manage & Support",description:"Comprehensive Support Package",name:"comprehensiveSupport",unitPrice:"£225",quantity:"12"},{category:"Service Fees & Discounts",description:"Upfront payment plan",name:"upfrontDiscount",unitPrice:"",quantity:"0"}];function v({category:t}){return e.jsx("tr",{children:e.jsx("th",{colSpan:"3",className:"text-lg w-full text-left border-b border-inherit",children:t})})}function N({service:t}){return e.jsxs("tr",{children:[e.jsx("td",{children:t.description}),e.jsx("td",{children:t.quantity}),e.jsx("td",{children:t.unitPrice})]})}function C({services:t}){const n=[];let s=null;return t.forEach((t=>{t.category!==s&&n.push(e.jsx(v,{category:t.category},t.category)),n.push(e.jsx(N,{service:t},t.name)),s=t.category})),e.jsxs("table",{className:"",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Unit Price"})]})}),e.jsx("tbody",{children:n})]})}function k(){return e.jsxs("div",{className:"",children:[e.jsx("h2",{children:"Your Draft Quote"}),e.jsx("p",{children:"Based on what you've shared today, you quote is shared below. To accept or refine this quote, enter your email."}),e.jsx(C,{services:w})]})}function P({sectionList:t,sectionIndex:n}){return t&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:t[n].name}),e.jsx("p",{children:t[n].description})]})||e.jsx("h1",{children:"Loading section..."})}function E({question:t,setChoice:n,setQuestionAnswered:s,sectionAnswers:i}){function r(e){i[t.id]!==e.target.value&&(n(e.target.value),s(t.id))}function c({option:t,isChecked:n}){return e.jsxs("div",{className:"option flex gap-2",children:[e.jsx("input",{id:t.id,type:"radio",value:t.id,onChange:r,className:"",checked:n||t.isSelected}),e.jsx("label",{htmlFor:t.id,children:t.name})]},t.id)}return t&&e.jsxs("div",{className:"quotey",children:[e.jsx("h2",{className:"col-span-full w-full",children:t.name}),e.jsx("p",{className:"mb-4 text-sm italic",children:t.description}),e.jsx("div",{className:"options ",children:t.options.map((n=>e.jsx(c,{option:n,isChecked:n.id==i[t.id]},n.id)))})]},t.id)||e.jsx("h1",{children:"Loading choices..."})}function _({questionList:t,questionCount:n,saveSurvey:s}){const[i,r]=c.useState(null),[o,a]=c.useState(null),[l,d]=c.useState({});return c.useEffect((()=>{if(null!==i&&null!==o)return d({...l,[i]:o}),()=>{r(null),a(null)}}),[i,o]),c.useEffect((()=>{s(l)}),[l]),t&&l&&e.jsx(e.Fragment,{children:t.map(((t,n)=>e.jsx(E,{question:t,setChoice:a,setQuestionAnswered:r,sectionAnswers:l},t.id)))})||e.jsx("h1",{children:"Loading questions..."})}function A(){const[e,t]=c.useState([]),[n,s]=c.useState(null),[i,r]=c.useState(!0);return c.useState(!1),c.useEffect((()=>{fetch("survey.json",{mode:"cors"},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((e=>{if(e.status>=400)throw new Error("server error");return e.json()})).then((e=>{t(e)})).catch((e=>s(e))).finally((()=>r(!1)))}),[]),{survey:e,error:n,loading:i}}function R({setSectionIndex:t,hasBack:n,hasNext:s,setIsComplete:i}){function r(){s?t((e=>e+1)):i(!0)}function c(){n&&t((e=>e-1))}return n&&s?e.jsxs("div",{className:"flex w-full justify-between gap-2",children:[e.jsx("button",{onClick:c,className:"back-btn",children:"Back"}),e.jsx("button",{onClick:r,className:"next-btn",children:"Next"})]}):s?e.jsx("button",{onClick:r,className:"next-btn w-full",children:"Next"}):e.jsxs("div",{className:"flex w-full justify-between gap-2",children:[e.jsx("button",{onClick:c,className:"back-btn w-full",children:"Back"}),e.jsx("button",{onClick:r,className:"next-btn w-full",children:"Submit"})]})}const B=({sectionCount:t,sectionIndex:n})=>{let s={width:`${((n+1)/t*100).toFixed(2)}%`};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"progress w-full",children:e.jsx("span",{className:"flex",style:s,children:`${n+1} of ${t}`})})})};function D({setIsComplete:t,setSurveyAnswers:n}){const{survey:s,error:i,loading:r}=A(),[o,a]=c.useState(0);if(i)return e.jsx("p",{children:"A network error was encountered"});if(r)return e.jsx("p",{children:"Loading data..."});return s&&e.jsxs("div",{className:" flex flex-col justify-between gap-4",children:[e.jsx("h2",{children:s.name}),e.jsx("p",{children:s.description}),e.jsx(P,{sectionList:s.sections,sectionIndex:o}),e.jsx(_,{questionList:s.sections[o].questions,questionCount:s.sections[o].questions.length,saveSurvey:function(e){n(e)}}),e.jsx(R,{setSectionIndex:a,hasBack:o>0,hasNext:o<s.sections.length-1,setIsComplete:t}),e.jsx(B,{sectionCount:s.sections.length,sectionIndex:o})]})}function F(){const[t,n]=c.useState(!1),[s,i]=c.useState({});return t?e.jsxs("div",{className:"tool flex flex-col justify-between gap-4",children:["Completed wooo",e.jsx(k,{})]}):e.jsxs("div",{className:" tool flex flex-col justify-between gap-4",children:[e.jsx("i",{className:"fa-solid fa-user"}),e.jsx(D,{setIsComplete:n,setSurveyAnswers:i})]})}function T(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-1/3 min-w-max flex flex-col gap-2 justify-center items-center",children:e.jsx(b,{})}),e.jsx("div",{className:"tool max-w-screen-sm lg:max-w-screen-lg rounded-md border-2 border-solid p-8 ",children:e.jsx(F,{})})]})}export{T as default};