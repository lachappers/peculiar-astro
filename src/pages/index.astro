---
import DefaultLayout from "../layouts/DefaultLayout.astro";
import { getImage } from "astro:assets";
import Hero from "../components/Hero.astro";
import Button from "../components/Button.astro";
import CallOut from "../components/CallOut.astro";
import Feature from "../components/Feature.astro";
import ProcessStep from "../components/ProcessStep.astro";
import { Icon } from "astro-icon/components";
import ContentMedia from "../components/ContentMedia.astro";
import Heading from "@components/shared/Heading.astro";
import SectionHeading from "@components/shared/SectionHeading.astro";
import CallToAction from "../components/CallToAction.astro";
import heroVector from "@assets/img/hero-vector.webp";
import mobile from "@assets/img/share.png";
import find from "@assets/img/find.png";
import productive from "@assets/img/productivity.png";
// console.log(heroVector);
// const optimisedHero = await getImage({
//   src: heroVector,
//   format: "webp",
//   width: 800,
//   loading: "eager",
// });
// console.log(optimisedHero);
---

<!-- <Fragment slot="head">
  <link rel="preload" href={optimisedHero.src} as="image" />
</Fragment> -->
<DefaultLayout title="Home">
  <Hero
    title="Making Technology"
    gradientText="That Works"
    subtitle="Web development and technology for ambitious small businesses."
    learnTarget={`#believe`}
    quoteButton={true}
    learnButton={true}
    imgSrc={heroVector}
  />
  <section
    class="container my-16 flex max-w-screen-xl flex-col gap-4 md:my-32 md:gap-8"
  >
    <SectionHeading subtitle="what we do" id="whatwedo">
      <p slot="title">
        Getting your business online,
        <span class="text-highlight">without the faff.</span>
      </p>
      <p class="">
        We specialise in designing and developing websites and technology for
        small and growing businesses across the UK.
      </p>
      <p class="">
        All of our code is written by hand (no wordpress) to ensure exceptional
        performance, helping you bring in more businesses and waste less time
        wanting to throw your computer out the window.
      </p>
    </SectionHeading>
    <div
      class="flex w-full flex-wrap justify-center gap-2 md:flex-nowrap md:gap-4"
    >
      <!-- Images https://www.freepik.com/search?author=12980021&format=author&icon_color=multicolor&last_filter=page&last_value=7&page=7&shape=lineal-color&type=icon#uuid=eda1eb07-b0e7-43ca-a9c0-f7634e953972 -->
      <CallOut
        img={mobile}
        purple="Do Business Anywhere"
        subtext="Our sites and systems are designed to work when you and your customers are on the go - including beautiful websites from your phone to your desktop."
      />
      <CallOut
        img={find}
        purple="Get Found Faster"
        subtext="Sites built to help you rank and support with your business profiles on Google, Bing and/or Facebook to help customers find you."
      />
      <CallOut
        img={productive}
        purple="Save Time and Money"
        subtext="We help you find the right solutions, at the right price, without confusing jargon or unexpected add-ons."
      />
    </div>
    <div class="flex flex-col items-center justify-center">
      <p class="my-8 max-w-[60ch] text-center text-2xl font-bold md:text-4xl">
        Get a shiny new website from
        <span class="text-highlight">£1,900</span> or <span
          class="text-highlight">£180</span
        > per month.
      </p>
    </div>
    <div class="flex flex-col justify-center gap-3 min-[500px]:flex-row">
      <Button
        href="/pricing/#included"
        icon="mdi:arrow-right"
        text="Discover Features"
      />
      <Button
        href="/pricing/#web-pricing"
        icon="mdi:arrow-right"
        text="See Pricing"
        buttonColor="color-secondary"
      />
    </div>
  </section>

  <section
    class="container my-16 flex max-w-screen-xl flex-col items-center gap-4 md:my-32 md:gap-8"
  >
    <SectionHeading id="believe" subtitle="We believe">
      <p slot="title">
        Technology should make life
        <span class="text-highlight">easier</span>, not harder.
      </p>
      <p class="">
        We know that when you're running business, the last thing you need is to
        waste time and money on tech that drives you mad.
      </p>
      <p class="">
        We make the technology and systems that your business relies on:
      </p>
    </SectionHeading>

    <div class="mb-8 grid grid-cols-1 gap-12 md:grid-cols-3">
      <CallOut
        purple="FUNCTION"
        point="seamlessly"
        subtext="reducing disruption"
      />
      <CallOut
        purple="USABLE"
        point="without a PhD"
        subtext="keeping things simple"
      />

      <CallOut
        purple="EFFICIENT"
        point="clear ROI"
        subtext="saving you money"
      />
    </div>

    <div
      class="container mt-16 flex flex-col justify-center gap-3 min-[500px]:flex-row"
    >
      <Button href="/quoter" icon="mdi:message-outline" text="Get a Quote" />
      <Button
        href="/services/#approach"
        text="About Us"
        icon="mdi:arrow-right"
        buttonColor="color-secondary"
      />
    </div>
  </section>

  <section
    class="container my-16 flex max-w-screen-xl flex-col items-center gap-4 md:my-32 md:gap-8"
  >
    <SectionHeading id="services" subtitle="Our services">
      <p class="" slot="title">
        Technology should <span class="text-highlight">save</span> you time and money.
      </p>
      <p class="">
        Understand, optimise and connect your business processes and technology
        to reduce cost, increase security and attract more business.
      </p>
    </SectionHeading>
    <div class="my-4 grid grid-cols-1 content-stretch gap-6 md:grid-cols-2">
      <Feature
        icon="ic:baseline-web"
        title="Website & App Development"
        featureColor="blue"
        href="/services/#webDev"
        featureWidth="max-w-md"
      >
        Build or update your website to attract more customers, save you time
        and stand out from the crowd.
      </Feature>
      <Feature
        icon="mdi:lifebuoy"
        title="Routine & On Call Support"
        featureColor="gold"
        href="/services/#ongoing"
        featureWidth="max-w-md"
      >
        Dedicated access to expertise in technology, business operations and
        strategy, when you need it.
      </Feature>
      <Feature
        icon="mdi:cogs"
        title="Integration & Automation"
        featureColor="mint"
        href="/services/#systemIntegration"
        featureWidth="max-w-md"
      >
        Design, integrate and build the right technology, processes and systems
        for your business.
      </Feature>

      <Feature
        icon="mdi:chart-timeline-variant-shimmer"
        title="Business Analytics"
        featureColor="pink"
        href="/services/#businessAnalysis"
        featureWidth="max-w-md"
      >
        Assess performance, manage risk and identify opportunities to improve
        processes and systems.
      </Feature>
    </div>
    <div class="mt-16 flex flex-col justify-center gap-3 min-[500px]:flex-row">
      <Button href="/quoter" icon="mdi:message-outline" text="Get a Quote" />
      <Button
        href="/services"
        text="Explore Services"
        buttonColor="color-secondary"
      />
    </div>
  </section>

  <!-- <section class="">
    <div class="container mb-8">
      <h2 class="mb-2 text-lg font-bold">
        <Heading id="how" text="HOW WE WORK" />
      </h2>
      <p class="mb-8 text-6xl font-bold">
        Technology should <span class="text-highlight">fit</span> your business,
        not shape it.
      </p>
      <ContentMedia imgSrc="/route-vector.png" reverseImg={false}>
        <p class="mb-2 text-xl">
          Building technology infrastructure that is efficient and effective
          requires a hollistic understanding of your business; your strengths,
          your challenges and your goals.
        </p>
      </ContentMedia>
    </div>
    <div
      class="banner my-4 flex flex-col items-center justify-center gap-y-0.5 md:flex-row md:items-stretch lg:flex-row lg:items-stretch"
    >
      <ProcessStep class="step" icon="mdi:telescope" title="Understand">
        where you are and where you're going
      </ProcessStep>
      <ProcessStep icon="mdi:pencil-ruler" title="Design">
        Optimising what you already have or investing where it matters.
      </ProcessStep>
      <ProcessStep icon="mdi:rocket-launch-outline" title="Deliver">
        Build, configure, test and launch your project.
      </ProcessStep>
    </div>
    <div
      class="container mt-16 flex flex-col justify-center gap-3 min-[500px]:flex-row"
    >
      <Button href="/quoter" icon="mdi:message-outline" text="Get a Quote" />
      <Button
        href="/pricing/#howItWorks"
        text="Learn More"
        buttonColor="color-secondary"
      />
    </div>
  </section> -->
  <CallToAction />
</DefaultLayout>

<style lang="scss">
  :global(.text-highlight) {
    text-decoration: var(--primary-200) wavy underline;
  }
  :global(html) {
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    :global(html) {
      scroll-behavior: auto;
    }
  }

  :global(.darkmode .text-highlight) {
    text-decoration: var(--primary-200) wavy underline;
    text-shadow: 1px 1px 0 var(--neutral-100);
  }

  .banner {
    padding: 1rem;
    background-color: var(--secondary-100);
    background: linear-gradient(
      315deg,
      var(--primary-100) 25%,
      var(--secondary-200)
    );
    > :first-child {
      border: 3px solid forestgreen;
    }
  }
  .darkmode .mint {
    border: 3px solid var(--accent-mint-100);
  }
</style>
<script>
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", function (e) {
      e.preventDefault();

      document.querySelector(this.getAttribute("href")).scrollIntoView({
        behavior: "smooth",
      });
    });
  });
</script>
